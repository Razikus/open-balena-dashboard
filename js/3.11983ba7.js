(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0e40":function(t,e,i){},5440:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"row",attrs:{padding:""}},[i("div",{staticClass:"col-md-6 col-sm-12"},[i("div",{staticClass:"row justify-start"},[i("div",{staticClass:"col-md-11 col-sm-12"},[t.device?i("q-card",{staticClass:"col-xl-3 col-md-4 col-sm-12 col-xs-12"},[i("q-card-section",[i("p",{staticClass:"text-grey"},[t._v(t._s(t.$t("Device")))]),i("div",{staticClass:"row q-col-gutter-lg"},[i("div",{staticClass:"col-6"},[i("p",{staticClass:"text-h6"},[t._v(t._s(t.device.device_name))]),i("q-popup-edit",{attrs:{buttons:"",title:t.$t("editname")},on:{save:function(e){return t.saveDeviceName(t.device)}},model:{value:t.device.device_name,callback:function(e){t.$set(t.device,"device_name",e)},expression:"device.device_name"}},[i("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.device.device_name,callback:function(e){t.$set(t.device,"device_name",e)},expression:"device.device_name"}})],1),i("q-tooltip",[t._v("\n                      "+t._s(t.$t("double-click"))+"\n                    ")])],1),i("div",{staticClass:"col-3"},[t.device.is_online?i("q-btn",{attrs:{rounded:"",color:"red",loading:t.rebootLoading,icon:"restart_alt"},on:{click:t.reboot}},[t._v(t._s(t.$t("reboot"))+"\n                    ")]):t._e()],1),i("div",{staticClass:"col-3"},[t.device.is_online?i("q-btn",{attrs:{rounded:"",icon:"sync"},on:{click:t.restart}},[t._v(t._s(t.$t("restart"))+"\n                    ")]):t._e()],1)])]),i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("online"))+"\n                    ")]),i("q-item-label",{staticClass:"q-gutter-sm"},[t.device.is_online?i("Dot",{attrs:{color:"green"}}):i("Dot",{attrs:{color:"red"}}),t._v("\n                      /\n                      "),t.device.is_connected_to_vpn?i("Dot",{attrs:{color:"green"}}):i("Dot",{attrs:{color:"red"}}),i("q-badge",{attrs:{color:t.determineStatusColor(t.device.overall_status)}},[t._v(t._s(t.device.overall_status))])],1)],1),i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("uuid"))+"\n                    ")]),i("q-badge",{staticStyle:{"font-size":"15px"},attrs:{"text-color":"deep-orange-14",color:"pink-1"}},[t._v("\n                      "+t._s(t.device.uuid.substring(0,7))+"\n                      "),i("q-icon",{attrs:{name:"content_copy"},on:{click:t.copyUUIDToClipboard}})],1)],1),i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("type"))+"\n                    ")]),i("q-item-label",[i("q-img",{attrs:{width:"20px",src:t.deviceType.logo}}),t._v("\n                      "+t._s(t.deviceType.name)+"\n                    ")],1)],1)])]),i("q-separator"),i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("last_connectivity_event"))+"\n                    ")]),i("q-item-label",[i("q-badge",{attrs:{color:"blue"}},[t._v("\n                        "+t._s(t.getRelTime(t.device.last_connectivity_event))+"\n                      ")])],1)],1),i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("hostVer"))+"\n                    ")]),i("q-badge",{staticStyle:{"font-size":"14px"},attrs:{outline:"",color:"blue"}},[t._v("\n                      "+t._s(t.device.os_version)+"\n                    ")])],1),i("div",{staticClass:"col-4"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("supervisor_version"))+"\n                    ")]),i("q-badge",{staticStyle:{"font-size":"14px"},attrs:{outline:"",color:"blue"}},[t._v("\n                      "+t._s(t.device.supervisor_version)+"\n                    ")])],1)])]),i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("is_running_release"))+"\n                    ")]),i("q-badge",{staticStyle:{"font-size":"14px"},attrs:{"text-color":"deep-orange-14",color:"pink-1"}},[t._v("\n                      "+t._s(t.releaseInfo.commit.substring(0,7))+"\n                    ")])],1),i("div",{staticClass:"col-6"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("ip"))+"\n                    ")]),i("q-badge",{staticStyle:{"font-size":"14px"},attrs:{"text-color":"deep-orange-14",color:"pink-1"}},[t._v("\n                      "+t._s(t.device.ip_address.split(" ").join("/"))+"\n                      "),i("q-icon",{attrs:{name:"content_copy"},on:{click:t.copyIP}})],1)],1)])]),i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("q-item-label",[t._v("\n                      "+t._s(t.$t("note"))+"\n                    ")]),i("q-input",{attrs:{filled:"",type:"textarea",autogrow:""},on:{input:t.saveNote},model:{value:t.device.note,callback:function(e){t.$set(t.device,"note",e)},expression:"device.note"}})],1)])]),i("q-card-section",[i("q-btn",{attrs:{to:"/deviceenvs/"+t.device.uuid}},[t._v(t._s(t.$t("editDeviceEnv"))+"\n                ")])],1)],1):t._e()],1)])]),i("div",{staticClass:"col-md-6 col-sm-12"},[i("div",{staticClass:"row justify-end"},[i("div",{staticClass:"col-12"},[i("LogTerminal",{attrs:{uuid:t.currentUUID,"maximized-toggle":t.maximizedToggle}})],1)])])])},s=[],r=i("c973"),o=i.n(r),u=(i("159b"),i("b0c0"),i("96cf"),i("9f7a")),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticClass:"bg-black"},[i("q-bar",[t._v("\n    Logs\n    "),i("q-space")],1),i("q-scroll-area",{staticStyle:{height:"470px"}},[i("shell",{attrs:{banner:t.banner,shell_input:t.send_to_terminal},on:{shell_output:t.prompt}})],1)],1)},c=[],M=(i("caad"),i("2532"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{"!keydown":function(e){return(e.type.indexOf("key")||67===e.keyCode)&&e.ctrlKey?(e.preventDefault(),e.stopPropagation(),t.cmd_enter("^C")):null},click:function(e){return t.$refs.cmd.focus()}}},[i("div",{ref:"terminal",attrs:{id:"container"}},[t.banner?i("div",{attrs:{id:"banner"}},[i("p",[t.banner.img?i("img",{attrs:{align:t.banner.img.align?t.banner.img.align:"left",src:t.banner.img.link?t.banner.img.link:"@/logo.png",width:t.banner.img.width?t.banner.img.width:"100px",height:t.banner.img.height?t.banner.img.height:"100px"}}):t._e()]),t.banner.header?i("h2",{staticStyle:{"letter-spacing":"4px"}},[t._v(t._s(t.banner.header))]):t._e(),t.banner.subHeader?i("p",[t._v(t._s(t.banner.subHeader))]):t._e(),t.banner.helpHeader?i("p",[t._v(t._s(t.banner.helpHeader))]):t._e(),i("p")]):t._e(),i("output",{ref:"output"}),i("div",{staticClass:"input-line",attrs:{id:"input-line"}},[i("div",{staticClass:"prompt"},[t.banner.emoji.first&&t.showemoji?i("div",[t._v("("+t._s(t.banner.emoji.first)+")")]):t._e(),t.banner.emoji.second&&!t.showemoji?i("div",[t._v("("+t._s(t.banner.emoji.second)+")")]):t._e(),i("div",[t._v(t._s(t.banner.sign?t.banner.sign:">>"))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"cmd",staticClass:"cmdline",attrs:{autofocus:""},domProps:{value:t.value},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.cmd_enter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.history_up()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.history_down()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.cmd_tab(e)}],input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])}),l=[],j=(i("498a"),i("4de4"),i("ac1f"),i("1276"),i("a434"),i("a15b"),{props:{shell_input:{required:!1},banner:{type:Object,required:!1,default:function(){return{header:"Vue Shell",subHeader:"Shell is power just enjoy ðŸ”¥",helpHeader:'Enter "help" for more information.',emoji:{first:"ðŸ”…",second:"ðŸ”†",time:750},sign:"VueShell $",img:{align:"left",link:"@/logo.png",width:100,height:100}}}},commands:{type:Array}},data:function(){return{showemoji:!0,value:"",history_:[],histpos_:0,histtemp_:0}},computed:{allcommands:function(){var t=["help","clear","list","logs"];return this.commands&&this.commands.forEach((function(e){t.push(e.name)})),t}},watch:{shell_input:function(t){this.output(t),this.$parent.send_to_terminal=""}},methods:{history_up:function(){this.history_.length&&(this.history_[this.histpos_]?this.history_[this.histpos_]=this.value:this.histtemp_=this.value),this.histpos_--,this.histpos_<0&&(this.histpos_=0),this.value=this.history_[this.histpos_]?this.history_[this.histpos_]:this.histtemp_},history_down:function(){this.history_.length&&(this.history_[this.histpos_]?this.history_[this.histpos_]=this.value:this.histtemp_=this.value),this.histpos_++,this.histpos_>this.history_.length&&(this.histpos_=this.history_.length),this.value=this.history_[this.histpos_]?this.history_[this.histpos_]:this.histtemp_},cmd_tab:function(t){t.preventDefault()},cmd_enter:function(){var t=this;this.value&&(this.history_[this.history_.length]=this.value,this.histpos_=this.history_.length);var e=this.$refs.cmd.parentNode.cloneNode(!0);e.removeAttribute("id"),e.classList.add("line");var i=e.querySelector("input.cmdline");i.autofocus=!1,i.readOnly=!0;var n=this.$refs.output.appendChild(e);if(n.scrollIntoView(),this.value&&this.value.trim()){var s=this.value.split(" ").filter((function(t){return t})),r=s[0].toLowerCase();s=s.splice(1)}"clear"===r?(this.$refs.output.innerHTML="",this.value=""):"help"===r?this.output('<div class="ls-files">'+this.allcommands.join("<br>")+"</div><br> Use <b>list</b> command with -a flag to get full info about services at device<br> Use <b>logs</b> command to see all logs from device<br><br> <b>-s</b> service_name: get logs from specified service<br> <b>--tail</b> get specified amount of messages:<br> Use <b>CTRL + C</b> for focus on input, and <b>CTRL + Z</b> for exit from terminal"):(this.commands&&this.commands.forEach((function(e){r===e.name&&t.output(e.get())})),""!==this.value.trim()&&this.$emit("shell_output",this.value),this.value="")},output:function(t){this.$refs.output.insertAdjacentHTML("beforeEnd","<p>"+t+"</p>"),this.value=""}},mounted:function(){var t=this;this.banner.emoji.first&&this.banner.emoji.second&&this.banner.emoji.time&&setInterval((function(){t.showemoji=!t.showemoji}),this.banner.emoji.time)}}),g=j,L=(i("6ecd"),i("2877")),d=Object(L["a"])(g,M,l,!1,null,"576461d9",null),N=d.exports,D=i("970b"),y=i.n(D),I=i("5bc3"),m=i.n(I),h=(i("fb6a"),i("d3b7"),i("e6cf"),i("b64b"),i("d81d"),i("99af"),i("6ebd")),A=i.n(h),v=i("18b2"),z=i.n(v),T=function(){function t(e,i){y()(this,t),this.commands=["list","logs"],this.uuid=e,this.sdk=i,this.colors=["#d50e3b","#e501b4","#15db07","#dcdc30","#00B3E6","#e3b645","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#32dede","#6666FF"]}return m()(t,[{key:"commandExists",value:function(t){return this.commands.includes(t)||this.commands.filter((function(e){return t.includes(e)})).length>0}},{key:"processCommand",value:function(t){var e=A()(t.split(" "));return t.includes("list")?e.a?this.getFullServicesForDevice():this.getServicesForDevice():e._.includes("logs")?e.s?e.tail?this.getLogsByService(e.s).then((function(t){return t.slice(-e.tail)})).then((function(t){return t.join("<br>")})):this.getLogsByService(e.s).then((function(t){return t.join("<br>")})):e._.length<2?e.tail?this.getAllLogs().then((function(t){return t.slice(-e.tail)})).then((function(t){return t.join("<br>")})):this.getAllLogs().then((function(t){return t.join("<br>")})):new Promise("Wrong format of 'logs' command. Try 'logs' or 'logs -s service name'"):new Promise("'".concat(t,"' is not recognized as an internal command or external"))}},{key:"getAllLogs",value:function(){var t=this;return this.sdk.logs.history(this.uuid).then((function(e){return t.getServicesAndFormatMessages(e)}))}},{key:"getServicesAndFormatMessages",value:function(t){var e=this;return this.getServicesMap().then((function(i){return e.formatMessages(t,i)}))}},{key:"getServicesMap",value:function(){return this.sdk.models.device.getWithServiceDetails(this.uuid).then((function(t){var e={};return Object.keys(t.current_services).forEach((function(i){var n=t.current_services[i].filter((function(t){return t.status.includes("Running")}))[0];try{e[n.service_id]=i}catch(s){e.SYSTEM=i}})),e}))}},{key:"formatMessages",value:function(t,e){var i=this;return t.map((function(t){return i.formatSingleMessage(e,t)}))}},{key:"formatSingleMessage",value:function(t,e){return e.isSystem?'<b style="color: blue;">[SYSTEM]</b> ['.concat(this.formatDate(e.createdAt),"] ").concat(e.message):e.isStdErr?'<b style="color: red;">[ERROR]</b> <span style="color: red"> ['.concat(this.formatDate(e.createdAt),"] ").concat(e.message,"</span>"):'<b style="color: '.concat(this.colors[Object.keys(t).indexOf(""+e.serviceId)],';">[').concat(t[e.serviceId],"]</b> [").concat(this.formatDate(e.createdAt),"] ").concat(e.message)}},{key:"formatMessageAsPromise",value:function(t){var e=this;return this.getServicesMap().then((function(i){return e.formatSingleMessage(i,t)}))}},{key:"getLogsByService",value:function(t){var e=this;return this.sdk.logs.history(this.uuid).then((function(i){return e.getServicesMap().then((function(n){return i.filter((function(e){return!e.isSystem&&!e.isStdErr&&n[e.serviceId]===t})).map((function(t){return'<b style="color: '.concat(e.colors[Object.keys(n).indexOf(""+t.serviceId)],';">[').concat(n[t.serviceId],"]</b> [").concat(e.formatDate(t.createdAt),"] ").concat(t.message)}))})).then((function(t){return t.length>0?t:"No messages from this service in last 1000 lines"}))}))}},{key:"formatDate",value:function(t){return new Date(t).toLocaleString()}},{key:"showHistory",value:function(){var t=this.uuid;return this.sdk.logs.history(t).then((function(t){return t.map((function(t){return t}))}))}},{key:"getServicesForDevice",value:function(){return this.sdk.models.device.getWithServiceDetails(this.uuid).then((function(t){return Object.keys(t.current_services).join("<br>")}))}},{key:"getFullServicesForDevice",value:function(){return this.sdk.models.device.getWithServiceDetails(this.uuid).then((function(t){return z()(Object.keys(t.current_services).map((function(e){var i=t.current_services[e].filter((function(t){return t.status.includes("Running")}))[0];return{id:i.service_id,name:" | ".concat(e),status:'<div class="bg-green">'.concat(i.status,"<div>"),"install date":'<div class="text-right">'.concat(new Date(i.install_date).toLocaleDateString(),"</div>")}})))}))}},{key:"formatText",value:function(t){return"<p>".concat(t,"</p>")}}]),t}(),C=T,S={name:"LogTerminal",components:{shell:N},props:{dialog:{},maximizedToggle:{},hideLog:{},uuid:{}},watch:{uuid:function(t,e){this.terminalUtil=new C(t,this.$store.state.main.sdk)}},mounted:function(){this.terminalUtil=new C(this.uuid,this.$store.state.main.sdk)},methods:{detach:function(){var t=this;this.send_to_terminal="^C",setTimeout((function(){t.send_to_terminal=""}),300)},prompt:function(t){var e=this;if(this.terminalUtil.commandExists(t)){if(this.send_to_terminal="",t.includes("-f")&&t.includes("logs"))return void this.subscribeToLogs(this.uuid);this.terminalUtil.processCommand(t,this.uuid,this.send_to_terminal).then((function(t){e.send_to_terminal=t}))}else this.send_to_terminal="",this.send_to_terminal="'".concat(t,"' is not recognized as an internal command or external")},subscribeToLogs:function(t){var e=this;this.terminalUtil.processCommand("logs --tail 100",this.uuid,this.send_to_terminal).then((function(t){e.send_to_terminal=t})),this.$store.state.main.sdk.logs.subscribe(t).then((function(t){t.on("line",(function(t){e.terminalUtil.formatMessageAsPromise(t).then((function(t){e.send_to_terminal+="<br>".concat(t)}))}))}))}},data:function(){return{terminalUtil:void 0,services:[],currLogs:"",history:"",send_to_terminal:"",banner:{header:"",subHeader:"Shell for logs from devices",helpHeader:'Enter "help" for more information',emoji:{first:"",second:"",time:750},sign:"open-balena $",img:{align:"left",link:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjgiIGhlaWdodD0iNDIiIHZpZXdCb3g9IjAgMCAyMjggNDIiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMDBEMkVBIiBkPSJNNTcuMjMxIDIzLjA4NmMwIDIuMTg2IDEuNjY3IDMuOCAzLjYzNSAzLjggMS45NjggMCAzLjYzNS0xLjYxNCAzLjYzNS0zLjgyOCAwLTIuMjEzLTEuNjY3LTMuODI2LTMuNjM1LTMuODI2LTEuOTY4IDAtMy42MzUgMS42MTMtMy42MzUgMy44MjZ2LjAyOHptLTQuNTM3LS4wNTVjMC0zLjY5IDIuNjUxLTguMDM1IDguMTcyLTguMDM1IDUuNTIxIDAgOC4xNzIgNC4zNDYgOC4xNzIgOC4wNjIgMCAzLjcxOC0yLjY1IDguMDYzLTguMTcyIDguMDYzLTUuNTIgMC04LjE3Mi00LjM0NS04LjE3Mi04LjA2M3YtLjAyN3pNODMuNTUgMjMuMDU5YzAtMS43NzYtMS4zMTItMy44NTQtMy44LTMuODU0LTEuMDkzIDAtMi4wNS40MzctMi43MzIgMS4xNDgtLjY1Ny42ODQtMS4wNjcgMS42NjctMS4wNjcgMi43NiAwIDEuMDY3LjQxIDIuMDIzIDEuMDk0IDIuNzA2YTMuODIgMy44MiAwIDAgMCAyLjcwNiAxLjEyYzIuMzc4IDAgMy43OTktMS45NCAzLjc5OS0zLjg1M3YtLjAyN3ptLTExLjk0NC03LjU3aDQuMjY0djEuNjY2Yy45ODQtMS4xNDcgMi40ODctMi4xODYgNC44MS0yLjE4NiA1LjM4NCAwIDcuNDA3IDQuNzI4IDcuNDA3IDguMjUzIDAgNC4zNzQtMy4wNjEgNy45NTQtNy4zOCA3Ljk1NC0yLjczMyAwLTQuMDE4LTEuMzEyLTQuNTY0LTEuODg2djYuNDI0aC00LjUzN1YxNS40ODh6TTEwMS4yMDQgMjEuMmMtLjExLS43MS0xLjAzOC0yLjQwNS0zLjM4OS0yLjQwNS0yLjM1IDAtMy4yOCAxLjY5NS0zLjM4OSAyLjQwNWg2Ljc3OHptLTYuODMzIDMuNDQ0Yy4xOTEgMS42MTIgMS43MjIgMi42NzggMy40OTkgMi42NzggMS40NDggMCAyLjIxNC0uNjI4IDIuNzYtMS40Mmg0LjY0N2MtLjczOCAxLjY5NC0xLjgwNCAzLjAwNi0zLjA4OCAzLjg4YTcuMzczIDcuMzczIDAgMCAxLTQuMzIgMS4zNjdjLTQuMzQ0IDAtOC4wMzUtMy41MjYtOC4wMzUtOC4wMzYgMC00LjIzNiAzLjMzNS04LjE0NCA3Ljk1NC04LjE0NCAyLjMyMyAwIDQuMzE4LjkwMiA1Ljc0IDIuNDA1IDEuOTEzIDIuMDUgMi40ODcgNC40ODIgMi4xMzEgNy4yN0g5NC4zNzF6TTEwOC4zMSAxNS40ODhoNC4yMzV2MS42MTNjLjUyLS43MzggMS40NzYtMi4xMzIgNC4xODItMi4xMzIgNS4xMTEgMCA1LjYzIDQuMTU0IDUuNjMgNi4yMDR2OS40ODRoLTQuNTM3di04LjI4MmMwLTEuNjY3LS4zNTUtMy4xNDMtMi4zNzctMy4xNDMtMi4yNDEgMC0yLjU5NyAxLjYxMy0yLjU5NyAzLjE3djguMjU1aC00LjUzN1YxNS40ODh6TTMzLjg1IDE1LjE3NHYxMS41ODNjMCAxLjcwNC0uOTE4IDMuMjktMi4zOTUgNC4xMzlsLTEwLjEgNS44MDdjLS4yNy4xNTUtLjU1LjI3Ny0uODM5LjM3MnY0LjYzNmMuNDktLjEyOC45Ni0uMzEyIDEuMzk2LS41NjRsMTMuMTE3LTcuNTQyYTUuOTIgNS45MiAwIDAgMCAyLjk2Mi01LjExOFYxMy40NDRjMC0uNTEyLS4wNzctMS4wMTctLjIxMy0xLjUxM2wtNC4wMTUgMi4zODJjLjA1NC4yODEuMDg3LjU2OC4wODcuODZNMi45NTUgOC4zMjNjLS41MTUuMjk3LS45OC42ODItMS4zODUgMS4xMjhsMy45ODYgMi4zNjVjLjI5LS4yOTguNjA1LS41Ny45NzQtLjc4M0wxNi41OSA1LjIzYTQuNzkgNC43OSAwIDAgMSA0Ljc2Ni0uMDAzbDEwLjEgNS44MDhjLjMwMy4xNzQuNTczLjM4OC44MjMuNjIxbDMuOTY3LTIuMzUzYy0uMzY4LS4zNzctLjc2NC0uNzE3LTEuMjE2LS45NzhMMjEuOTEzLjc4M2E1LjkyNyA1LjkyNyAwIDAgMC01Ljg5NS4wMDRMMi45NTUgOC4zMjN6TTE2LjU4OCAzNi43TDYuNTMgMzAuODk4YTQuNzg3IDQuNzg3IDAgMCAxLTIuMzktNC4xMzZWMTUuMTdjMC0uMjEuMDI3LS40MTcuMDU2LS42MjNMLjE2MyAxMi4xNTRBNS43MiA1LjcyIDAgMCAwIDAgMTMuNDM3djE1LjA1NmE1LjkxOCA1LjkxOCAwIDAgMCAyLjk1NSA1LjExNGwxMy4wNjMgNy41MzdjLjQ1NC4yNjIuOTQzLjQ1MiAxLjQ1Ni41ODJ2LTQuNjQzYTQuNTE3IDQuNTE3IDAgMCAxLS44ODYtLjM4MiIvPgogICAgICAgIDxnIGZpbGw9IiMyQTUwNkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTMyLjIxOSAyMC4yODZjLS45OTUuODA0LTEuNDkyIDEuODMtMS40OTIgMy4wNzcgMCAxLjMyLjQ1OCAyLjQyNiAxLjM3MiAzLjMyMS45MTUuODk1IDIuMTE4IDEuMzQyIDMuNjA5IDEuMzQyIDEuNDExIDAgMi41NTQtLjQyNiAzLjQzLTEuMjc5Ljg3NC0uODUgMS4zMTEtMS45MTIgMS4zMTEtMy4xODEgMC0xLjI1LS40MzctMi4zMTUtMS4zMTItMy4xOTQtLjg3NS0uODgtMi4wMTgtMS4zMi0zLjQzLTEuMzItMS4zMzIuMDE5LTIuNDk1LjQzLTMuNDg4IDEuMjM0ek0xMjcgMTFoMy45NjZ2Ni41ODhoLjA2Yy40MzctLjU3OCAxLjAxOC0xLjAyNSAxLjc0NS0xLjM0MmE4LjYxMSA4LjYxMSAwIDAgMSAyLjI1MS0uNjM3Yy4xOTktLjAxOC4zODctLjAzMS41NjctLjA0LjE3OC0uMDEuMzU4LS4wMTQuNTM2LS4wMTQgMi40MjYgMCA0LjQxNC44MDUgNS45NjUgMi40MTMgMS41NSAxLjYwOSAyLjMyNiAzLjQ3IDIuMzI2IDUuNTg0IDAgLjMwOC0uMDIuNjI5LS4wNi45NjNhNS43MSA1LjcxIDAgMCAxLS4yMDkuOTkgOC41NDcgOC41NDcgMCAwIDEtLjcxNiAxLjg5OCA3LjMyMiA3LjMyMiAwIDAgMS0xLjEzMiAxLjYyNiA3LjEzMyA3LjEzMyAwIDAgMS0yLjcxNCAxLjg1NyA5IDkgMCAwIDEtMy4zNC42MzhjLTEuMTM0IDAtMi4xODItLjE5Ni0zLjE0Ny0uNTg0LS45NjUtLjM4OC0xLjc2NC0xLjAyNS0yLjQtMS45MTFsLS4wNi0uMDI3djIuMDMzSDEyN1YxMXpNMTU5LjY1NSAyMy40OTljMC0xLjI0Ny0uNDQzLTIuMy0xLjMyOC0zLjE2LS44ODUtLjg1OC0yLjAzMy0xLjI3OC0zLjQ0NC0xLjI2LTEuNDUyLS4wMTgtMi42NC40MTYtMy41NjQgMS4zMDItLjkyNC44ODYtMS4zODYgMS45ODgtMS4zODYgMy4zMDcgMCAxLjIzLjQ4MSAyLjI2NCAxLjQ0NiAzLjEwNC45NjQuODQgMi4xMTIgMS4yNTMgMy40NDQgMS4yMzQgMS40MzIuMDE5IDIuNTk1LS40MDcgMy40OS0xLjI3NC44OTQtLjg2OCAxLjM0Mi0xLjk0MyAxLjM0Mi0zLjIyNnYtLjAyN3ptMy43NTcgNy41MzZoLTMuNjM4di0yLjAzM2gtLjA2Yy0uNDk3LjY1LTEuMTU0IDEuMTg0LTEuOTY5IDEuNmE4LjY1NiA4LjY1NiAwIDAgMS0yLjUzNC44NGwtLjU1MS4wNTRjLS4xOS4wMTgtLjM3NC4wMjctLjU1Mi4wMjctMS4yNzMgMC0yLjQyNy0uMjIyLTMuNDYtLjY2NGE3LjU1NiA3LjU1NiAwIDAgMS0yLjYyNC0xLjgzIDcuODA1IDcuODA1IDAgMCAxLTEuNTItMi40OTQgOC4zMTIgOC4zMTIgMCAwIDEtLjUzOC0yLjk4M2MwLTEuMDQ4LjE2NC0yLjAxNC40OTItMi45LjMyOS0uODg1Ljg3LTEuNzE3IDEuNjI1LTIuNDk0LjgzNi0uODg2IDEuNzY0LTEuNTQxIDIuNzg5LTEuOTY2IDEuMDI0LS40MjQgMi4xNDEtLjYzNyAzLjM1NS0uNjM3IDEuMTMzIDAgMi4xNzcuMjIyIDMuMTMuNjY0YTYuNDQgNi40NCAwIDAgMSAyLjQxNyAxLjkzOXYtMi4xNDJoMy42Mzh2MTUuMDE5ek0xNjYuMzY0IDMxLjAzNWgzLjk2NlYxMWgtMy45NjZ6TTE4Ni4wNDYgMjEuOTI2Yy0uMzE5LS44ODYtLjg5NS0xLjU4Mi0xLjczLTIuMDg3YTUuMjQ3IDUuMjQ3IDAgMCAwLTIuNzczLS43NmgtLjI0YTUuNjk1IDUuNjk1IDAgMCAwLTIuNjgzLjg0N2MtLjgzNS41MS0xLjM5MSAxLjE3Ni0xLjY3IDJoOS4wOTZ6bS05LjAzNiAzLjJjLjI5OC44ODUuODUgMS41OSAxLjY1NSAyLjExM2E0Ljg0MiA0Ljg0MiAwIDAgMCAyLjY5OS43ODdjLjc1NSAwIDEuNDY1LS4xMTggMi4xMzEtLjM1Mi42NjYtLjIzNiAxLjE4OS0uNTUyIDEuNTY3LS45NWw0LjM4NC0uMDI3Yy0uNDk4IDEuMzU2LTEuNTA2IDIuNS0zLjAyNyAzLjQzLTEuNTIxLjkzLTMuMTU3IDEuMzk2LTQuOTA2IDEuMzk2LTIuNDA2IDAtNC40NTgtLjc2My02LjE1OC0yLjI5LTEuNy0xLjUyNy0yLjU1LTMuMzg1LTIuNTUtNS41NzIgMC0yLjIyMy44NDUtNC4xMyAyLjUzNS01LjcyIDEuNjktMS41OSAzLjc2Ny0yLjM4NiA2LjIzMi0yLjM4NiAyLjM2NiAwIDQuMzcuNzg5IDYuMDEgMi4zNjYgMS42NCAxLjU3NiAyLjQ2IDMuNDEgMi40NiA1LjUgMCAuMjM1LS4wMTUuNDY1LS4wNDUuNjktLjAzLjIyNS0uMDY1LjQ0Ni0uMTA1LjY2Mi0uMDIuMDczLS4wMzUuMTM2LS4wNDQuMTlhLjg4OC44ODggMCAwIDAtLjAxNS4xNjJIMTc3LjAxek0xOTIuNjA3IDE2LjAxNmgzLjY2OFYxNy40aC4wNmMuNDU2LS41NiAxLjA1OC0uOTk0IDEuODA0LTEuMzAyYTcuMzk1IDcuMzk1IDAgMCAxIDIuMzQtLjU0MmguNTk3Yy4wNzkgMCAuMTYuMDEuMjM5LjAyN2E2LjkyNCA2LjkyNCAwIDAgMSAyLjMxLjU3Yy43NDcuMzI1IDEuMzg4Ljc1IDEuOTI0IDEuMjczbC4yMjQuMjA0Yy4wNy4wNjMuMTM0LjE0LjE5NC4yMy42MzUuODE0IDEuMDE0IDEuNjgyIDEuMTMzIDIuNjAzLjEyLjkyMi4xOCAxLjg2Mi4xOCAyLjgydjcuNzUzaC0zLjk2N3YtNy43ODFjMC0uMjUzLS4wMS0uNTA1LS4wMy0uNzU5YTcuMjYgNy4yNiAwIDAgMC0uMjEtMS4xNTJjLS4wOTktLjM3LS4yNDgtLjcwOS0uNDQ2LTEuMDE3YTIuNzUzIDIuNzUzIDAgMCAwLTEuMDYtLjg2OCAzLjgyNyAzLjgyNyAwIDAgMC0xLjM4NS0uMzc5aC0uMzczYy0uMDcgMC0uMTQ0LjAxLS4yMjQuMDI3YTMuOTA0IDMuOTA0IDAgMCAwLTEuMzQyLjQyMSAyLjYzIDIuNjMgMCAwIDAtMS4wMTQuODhjLS4xOTguMjktLjM0OC42MjktLjQ0NyAxLjAxOC0uMS4zODgtLjE2Ljc4MS0uMTggMS4xNzktLjAyLjIzNS0uMDI5LjQ3LS4wMjkuNzA1djcuNzI2aC0zLjk2NlYxNi4wMTZ6TTIyMy40NzIgMjMuNDk5YzAtMS4yNDctLjQ0My0yLjMtMS4zMjctMy4xNi0uODg1LS44NTgtMi4wMzQtMS4yNzgtMy40NDQtMS4yNi0xLjQ1My0uMDE4LTIuNjQuNDE2LTMuNTY0IDEuMzAyLS45MjQuODg2LTEuMzg4IDEuOTg4LTEuMzg4IDMuMzA3IDAgMS4yMy40ODMgMi4yNjQgMS40NDcgMy4xMDQuOTY0Ljg0IDIuMTEzIDEuMjUzIDMuNDQ1IDEuMjM0IDEuNDMxLjAxOSAyLjU5NC0uNDA3IDMuNDg5LTEuMjc0Ljg5NC0uODY4IDEuMzQyLTEuOTQzIDEuMzQyLTMuMjI2di0uMDI3em0zLjc1OCA3LjUzNmgtMy42NHYtMi4wMzNoLS4wNThjLS40OTguNjUtMS4xNTQgMS4xODQtMS45NjkgMS42YTguNjY2IDguNjY2IDAgMCAxLTIuNTM1Ljg0bC0uNTUxLjA1NGMtLjE5LjAxOC0uMzczLjAyNy0uNTUyLjAyNy0xLjI3MiAwLTIuNDI2LS4yMjItMy40Ni0uNjY0YTcuNTQ4IDcuNTQ4IDAgMCAxLTIuNjIzLTEuODMgNy43OTYgNy43OTYgMCAwIDEtMS41MjEtMi40OTQgOC4zMTIgOC4zMTIgMCAwIDEtLjUzOC0yLjk4M2MwLTEuMDQ4LjE2NS0yLjAxNC40OTItMi45LjMzLS44ODUuODctMS43MTcgMS42MjYtMi40OTQuODM1LS44ODYgMS43NjQtMS41NDEgMi43ODgtMS45NjYgMS4wMjQtLjQyNCAyLjE0Mi0uNjM3IDMuMzU1LS42MzcgMS4xMzMgMCAyLjE3Ny4yMjIgMy4xMzEuNjY0YTYuNDQgNi40NCAwIDAgMSAyLjQxNiAxLjkzOXYtMi4xNDJoMy42Mzl2MTUuMDE5eiIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==",width:0,height:0}}}}},f=S,p=(i("5878"),i("f09f")),x=i("d847"),E=i("2c91"),O=i("4983"),_=i("eebe"),b=i.n(_),w=Object(L["a"])(f,a,c,!1,null,"812159f0",null),k=w.exports;b()(w,"components",{QCard:p["a"],QBar:x["a"],QSpace:E["a"],QScrollArea:O["a"]});var Y=i("cdde"),Q={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},U=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),s=e-i;for(var r in Q)if(Math.abs(s)>Q[r]||"second"===r)return n.format(Math.round(s/Q[r]),r)},q=U,$={components:{LogTerminal:k,Dot:u["a"]},data:function(){return{device:void 0,releaseInfo:{commit:""},filter:"",currentUUID:"",rebootLoading:!1,loading:!1,maximizedToggle:!0,history:this.$t("notloaded"),currLogs:null,appEnvVars:[],appConfigVars:[],deviceLoadingState:{},services:{},deviceType:{},timers:[]}},beforeMount:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadApplicationDetails();case 2:t.$store.commit("main/selectDevice",t.device.device_name);case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){this.timers=[setInterval(this.loadApplicationDetails,1e4)]},destroyed:function(){this.timers.forEach(clearInterval)},methods:{copyUUIDToClipboard:function(){var t=this;Object(Y["a"])(this.currentUUID).then((function(e){t.$q.notify({type:"positive",message:t.$t("clipboard")})}))},copyIP:function(){var t=this;Object(Y["a"])(this.device.ip_address).then((function(e){t.$q.notify({type:"positive",message:t.$t("clipboard")})}))},getRelTime:function(t){return q(this.$i18n.locale,new Date(t))},saveNote:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.main.sdk.models.device.note(t.device.uuid,t.device.note);case 2:case"end":return e.stop()}}),e)})))()},reboot:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.rebootLoading=!0,e.next=3,t.$store.state.main.sdk.models.device.reboot(t.currentUUID).then((function(e){t.rebootLoading=!1})).catch((function(e){t.rebootLoading=!1}));case 3:case"end":return e.stop()}}),e)})))()},saveDeviceName:function(t){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.state.main.sdk.models.device.rename(e.device.uuid,e.device.device_name).then((function(t){e.$store.commit("main/selectDevice",e.device.device_name)}));case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},restart:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.state.main.sdk.models.device.restartApplication(t.currentUUID);case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},loadApplicationDetails:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.main.sdk.models.device.getWithServiceDetails(t.$route.params.id);case 2:return t.device=e.sent,t.currentUUID=t.device.uuid,e.next=6,t.$store.state.main.sdk.models.device.getManifestByApplication(t.device.belongs_to__application.__id);case 6:return i=e.sent,t.deviceType={name:i.name+" ("+i.slug+")"},e.next=10,t.$store.state.main.sdk.models.release.get(t.device.is_running__release.__id);case 10:t.releaseInfo=e.sent;case 11:case"end":return e.stop()}}),e)})))()},determineStatusColor:function(t){if(void 0===t)return"gray";switch(t.toLowerCase()){case"idle":return"green";case"offline":return"red";case"updating":return"orange"}}}},F=$,R=i("9989"),B=i("a370"),P=i("42a1"),H=i("27f9"),Z=i("05c0"),W=i("9c40"),J=i("0170"),V=i("58a81"),G=i("0016"),K=i("068f"),X=i("eb85"),tt=Object(L["a"])(F,n,s,!1,null,null,null);e["default"]=tt.exports;b()(tt,"components",{QPage:R["a"],QCard:p["a"],QCardSection:B["a"],QPopupEdit:P["a"],QInput:H["a"],QTooltip:Z["a"],QBtn:W["a"],QItemLabel:J["a"],QBadge:V["a"],QIcon:G["a"],QImg:K["a"],QSeparator:X["a"]})},5878:function(t,e,i){"use strict";i("6c09")},"6c09":function(t,e,i){},"6ecd":function(t,e,i){"use strict";i("f6b8")},"9f7a":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-badge",{staticClass:"dot",attrs:{rounded:"",color:t.color}})},s=[],r={props:{color:{type:String}}},o=r,u=(i("ebf8"),i("2877")),a=i("58a81"),c=i("eebe"),M=i.n(c),l=Object(u["a"])(o,n,s,!1,null,"533312b6",null);e["a"]=l.exports;M()(l,"components",{QBadge:a["a"]})},ebf8:function(t,e,i){"use strict";i("0e40")},f6b8:function(t,e,i){}}]);