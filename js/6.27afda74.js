(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{b291:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-page",{attrs:{padding:""}},[t("EnvEditor",{attrs:{currentEnvs:e.envVars,appConfigVars:e.configVars,parentLoading:e.loading},on:{reload:e.loadEnvs}})],1)},r=[],o=t("c973"),i=t.n(o),s=(t("96cf"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("q-table",{attrs:{grid:"",data:e.currentEnvs,columns:e.columns,loading:e.loading||e.parentLoading,title:e.$t("EnvVars")},scopedSlots:e._u([{key:"body",fn:function(n){return[t("q-tr",{attrs:{props:n}},[t("q-td",{key:"Name",attrs:{props:n}},[e._v("\n            "+e._s(n.row.name)+"\n          ")]),t("q-td",{key:"Value",attrs:{props:n}},[e._v("\n            "+e._s(n.row.value)+"\n            "),t("q-popup-edit",{on:{save:function(t){return e.updateEnv(n)}},model:{value:n.row.value,callback:function(t){e.$set(n.row,"value",t)},expression:"props.row.value"}},[t("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:n.row.value,callback:function(t){e.$set(n.row,"value",t)},expression:"props.row.value"}})],1)],1),t("q-td",{key:"Action",attrs:{props:n}},[t("q-btn",{on:{click:function(t){return e.deleteEnv(n)}}},[e._v("Delete")])],1)],1)]}},{key:"bottom-row",fn:function(){return[t("q-tr",[t("q-td",[t("q-input",{attrs:{filled:"",label:e.$t("name")},model:{value:e.newEnv.name,callback:function(n){e.$set(e.newEnv,"name",n)},expression:"newEnv.name"}})],1),t("q-td",{key:"Value"},[t("q-input",{attrs:{filled:"",label:e.$t("value")},model:{value:e.newEnv.value,callback:function(n){e.$set(e.newEnv,"value",n)},expression:"newEnv.value"}})],1),t("q-td",{key:"Action"},[t("q-btn",{on:{click:e.saveEnv}},[e._v("Save")])],1)],1)]},proxy:!0}])}),t("q-table",{attrs:{data:e.appConfigVars,columns:e.columns,loading:e.loading||e.parentLoading,title:e.$t("ConfigVars")},scopedSlots:e._u([{key:"body",fn:function(n){return[t("q-tr",{attrs:{props:n}},[t("q-td",{key:"Name",attrs:{props:n}},[e._v("\n            "+e._s(n.row.name)+"\n          ")]),t("q-td",{key:"Value",attrs:{props:n}},[e._v("\n            "+e._s(n.row.value)+"\n            "),t("q-popup-edit",{on:{save:function(t){return e.updateConfig(n)}},model:{value:n.row.value,callback:function(t){e.$set(n.row,"value",t)},expression:"props.row.value"}},[t("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:n.row.value,callback:function(t){e.$set(n.row,"value",t)},expression:"props.row.value"}})],1)],1),t("q-td",{key:"Action",attrs:{props:n}},[t("q-btn",{on:{click:function(t){return e.deleteConfig(n)}}},[e._v("Delete")])],1)],1)]}},{key:"bottom-row",fn:function(){return[t("q-tr",[t("q-td",[t("q-input",{attrs:{filled:"",label:e.$t("name")},model:{value:e.newConfig.name,callback:function(n){e.$set(e.newConfig,"name",n)},expression:"newConfig.name"}})],1),t("q-td",{key:"Value"},[t("q-input",{attrs:{filled:"",label:e.$t("value")},model:{value:e.newConfig.value,callback:function(n){e.$set(e.newConfig,"value",n)},expression:"newConfig.value"}})],1),t("q-td",{key:"Action"},[t("q-btn",{on:{click:e.saveConfig}},[e._v("Save")])],1)],1)]},proxy:!0}])})],1)}),u=[],l=(t("b0c0"),{name:"EnvEditor",data:function(){return{loading:!1,columns:[{name:"Name",label:this.$t("name"),field:"name",align:"left"},{name:"Value",label:this.$t("value"),field:"value",align:"left"},{name:"Action",label:this.$t("actions"),field:"value",align:"left"}],newConfig:{name:"BALENA_",value:""},newEnv:{name:"",value:""}}},methods:{saveConfig:function(){var e=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.state.main.sdk.models.application.configVar.set(e.$route.params.id,e.newConfig.name,e.newConfig.value);case 2:e.reload();case 3:case"end":return n.stop()}}),n)})))()},deleteConfig:function(e){var n=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$store.state.main.sdk.models.application.configVar.remove(n.$route.params.id,e.row.name);case 2:n.reload();case 3:case"end":return t.stop()}}),t)})))()},updateConfig:function(e){var n=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$store.state.main.sdk.models.application.configVar.set(n.$route.params.id,e.row.name,e.row.value);case 2:n.reload();case 3:case"end":return t.stop()}}),t)})))()},saveEnv:function(){var e=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.state.main.sdk.models.application.envVar.set(e.$route.params.id,e.newEnv.name,e.newEnv.value);case 2:e.reload();case 3:case"end":return n.stop()}}),n)})))()},deleteEnv:function(e){var n=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$store.state.main.sdk.models.application.envVar.remove(n.$route.params.id,e.row.name);case 2:n.reload();case 3:case"end":return t.stop()}}),t)})))()},updateEnv:function(e){var n=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$store.state.main.sdk.models.application.envVar.set(n.$route.params.id,e.row.name,e.row.value);case 2:n.reload();case 3:case"end":return t.stop()}}),t)})))()},reload:function(){var e=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$emit("reload");case 1:case"end":return n.stop()}}),n)})))()}},props:{currentEnvs:{type:Array,required:!0},appConfigVars:{type:Array,required:!0},parentLoading:{type:Boolean,default:!1}}}),c=l,p=t("2877"),d=t("eaac"),v=t("bd08"),m=t("db86"),f=t("42a1"),w=t("27f9"),g=t("9c40"),k=t("eebe"),$=t.n(k),b=Object(p["a"])(c,s,u,!1,null,null,null),h=b.exports;$()(b,"components",{QTable:d["a"],QTr:v["a"],QTd:m["a"],QPopupEdit:f["a"],QInput:w["a"],QBtn:g["a"]});var q={data:function(){return{loading:!1,envVars:[],configVars:[]}},components:{EnvEditor:h},mounted:function(){this.loadEnvs()},methods:{loadEnvs:function(){var e=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.next=3,e.$store.state.main.sdk.models.application.envVar.getAllByApplication(e.$route.params.id);case 3:return e.envVars=n.sent,n.next=6,e.$store.state.main.sdk.models.application.configVar.getAllByApplication(e.$route.params.id);case 6:e.configVars=n.sent,e.loading=!1;case 8:case"end":return n.stop()}}),n)})))()}}},E=q,x=t("9989"),y=Object(p["a"])(E,a,r,!1,null,null,null);n["default"]=y.exports;$()(y,"components",{QPage:x["a"]})}}]);